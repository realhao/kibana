<div ng-show="timefilter.enabled" data-shared-timefilter="{{timefilter.enabled}}" class="kuiLocalMenu" data-test-subj="globalTimepicker">
  <button
    class="kuiLocalMenuItem"
    aria-label="{{ timefilter.refreshInterval.pause ? 'Resume refreshing data' : 'Pause refreshing data' }}"
    ng-click="toggleRefresh()"
    ng-show="timefilter.refreshInterval.value > 0"
  >
    <span
      class="kuiIcon"
      aria-hidden="true"
      ng-class="timefilter.refreshInterval.pause ? 'fa-play' : 'fa-pause'"
    ></span>
  </button>

  <button
    class="kuiLocalMenuItem navbar-timepicker-auto-refresh-desc"
    ng-class="{'kuiLocalMenuItem-isSelected': kbnTopNav.isCurrent('interval') }"
    ng-show="timefilter.refreshInterval.value > 0 || kbnTopNav.isCurrent('interval') || kbnTopNav.isCurrent('filter')"
    ng-click="kbnTopNav.toggle('interval')"
  >
    <span ng-show="timefilter.refreshInterval.value === 0">
      <span aria-hidden="true" class="kuiIcon fa-repeat"></span> {{'TIMEPICKER.AUTOREFRESH' | translate}}
    </span>

    <span
      ng-show="timefilter.refreshInterval.value > 0"
      aria-label="{{ 'TIMEPICKER.AUTOREFRESHTIP' | translate:{refreshInterval:translateFn(timefilter.refreshInterval.display)} }}"
    >
      {{ timefilter.refreshInterval.display | translate }}
    </span>
  </button>

  <button
    class="kuiLocalMenuItem"
    ng-click="back()"
    aria-label="{{'TIMEPICKER.BACKTIME' | translate}}"
  >
    <span
      class="kuiIcon fa-chevron-left"
      aria-hidden="true"
      tooltip="{{'TIMEPICKER.BACKTIME' | translate}}"
    ></span>
  </button>

  <button
    data-test-subj="globalTimepickerButton"
    class="kuiLocalMenuItem navbar-timepicker-time-desc"
    ng-class="{'kuiLocalMenuItem-isSelected': kbnTopNav.isCurrent('filter')}"
    ng-click="kbnTopNav.toggle('filter')"
    aria-label="{{'TIMEPICKER.OPENTIMERANGE' | translate}}"
    aria-haspopup="true"
  >
    <span aria-hidden="true" class="kuiIcon fa-clock-o"></span>
    <pretty-duration
      from="timefilter.time.from"
      to="timefilter.time.to"
      data-test-subj="globalTimepickerRange"
    ></pretty-duration>
  </button>

  <button
    class="kuiLocalMenuItem"
    ng-click="forward()"
    aria-label="{{'TIMEPICKER.FORWARDTIME' | translate}}"
  >
    <span
      aria-hidden="true"
      class="kuiIcon fa-chevron-right"
      tooltip="{{'TIMEPICKER.FORWARDTIME' | translate}}"
    ></span>
  </button>
</div>
