# 基于Kibana 6.1.3的翻译说明

#### 阶段一

#####翻译的几种场景
1. jade动态模板翻译，例如`#{i18n('UI-WELCOME_MESSAGE')}`(服务端渲染)
2. Angular系统内翻译：
    2.1 `$translate.instant('abc')`
    2.2 `{'KKEYNAME' | translate}` 
3. react componet里的翻译，因为目前看到的都是Angular通过ngReact调用组件，所以组件的翻译，主要涉及
    3.1 直接被Angular调用的组件，上下文里用Angular场景的翻译
    3.2 react子组件的翻译，把Angular的翻译方法通过属性绑定给到react，供子组件调用时翻译。
    > `$scope.t = chrome.getReactTranslateFun($translate.instant);` // angular
    > <react-component-app t="t">
    > {t('KEY')} // react

#####翻译时的注意事项
1. 默认的语言设置为英语，可以保证翻译文件未覆盖到的部分都是英文状态。
2. 动态数据的翻译可直接把内容作为key，只要内容中不含`.`就可以，因为`.`会被分析成命名空间的分隔符。
> 例如`{ foo | translate}` 会把scope.foo的值作为翻译的key，如果没有对应翻译，会直接返回key。
> `foo`的值可以为`Discover` 或者 `Hello Foo!`，在translations/__language__.json里配置
> `"Discover": "日志检索"` 或者 `"Hello Foo!": "你好，Foo!"`
> 这可以很好的翻译服务端配置里的内容，在*任何ui还未mixn*的场景的好用，除此之外，还是建议自己定义内容的key比较好。

#####参考
1. [kibana官方issue的记录](https://github.com/elastic/kibana/issues/6515)
2. [源码里关于翻译的说明](/docs/development/plugin/development-internationalization.asciidoc)


